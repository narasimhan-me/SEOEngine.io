# =============================================================================
# EngineO.ai API - Environment Variables
# =============================================================================
# Copy this file to .env for local development.
# NEVER commit .env files with real secrets to version control.
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3001

# -----------------------------------------------------------------------------
# Database (PostgreSQL via Neon)
# -----------------------------------------------------------------------------
# Production: Get from Neon dashboard → Connection Details
# Format: postgres://USER:PASSWORD@HOST:PORT/DBNAME?sslmode=require
DATABASE_URL="postgresql://user:password@host:port/database?sslmode=require&channel_binding=require"

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
# Generate a secure secret: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_here_generate_with_openssl_rand_base64_32
JWT_EXPIRATION=7d

# -----------------------------------------------------------------------------
# Redis (BullMQ Queues)
# -----------------------------------------------------------------------------
# Required for job queues (DEO score processing, etc.)
# Local: redis://localhost:6379
# Production: Get from Upstash, Render Redis, or similar
REDIS_URL=redis://localhost:6379
REDIS_PREFIX=engineo

# -----------------------------------------------------------------------------
# Frontend URL
# -----------------------------------------------------------------------------
# Used for OAuth redirects and CORS
FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Jira Integration (Optional - for ticket creation script)
# -----------------------------------------------------------------------------
# JIRA_BASE_URL=https://yourcompany.atlassian.net
# JIRA_EMAIL=your-email@example.com
# JIRA_API_TOKEN=your-api-token-here
# JIRA_PROJECT_KEY=ENGINEO

# -----------------------------------------------------------------------------
# Shopify OAuth Configuration
# -----------------------------------------------------------------------------
# Get from Shopify Partner Dashboard → Your App → API Credentials
SHOPIFY_API_KEY=your_shopify_api_key_here
SHOPIFY_API_SECRET=your_shopify_api_secret_here
SHOPIFY_APP_URL=http://localhost:3001
SHOPIFY_SCOPES=read_products,write_products,read_themes,read_content

# -----------------------------------------------------------------------------
# AI Configuration
# -----------------------------------------------------------------------------
# Choose one provider: 'openai', 'anthropic', or 'gemini'
AI_PROVIDER=gemini
# OpenAI: Get from https://platform.openai.com/api-keys
# Gemini: Get from https://makersuite.google.com/app/apikey
# Anthropic: Get from https://console.anthropic.com/
AI_API_KEY=your_ai_api_key_here

# -----------------------------------------------------------------------------
# CAPTCHA Configuration (Cloudflare Turnstile)
# -----------------------------------------------------------------------------
# Get from Cloudflare Dashboard → Turnstile → Your Site
CAPTCHA_PROVIDER=turnstile
CAPTCHA_SITE_KEY=your_turnstile_site_key_here
CAPTCHA_SECRET_KEY=your_turnstile_secret_key_here
# Optional: Configure abuse protection thresholds
CAPTCHA_LOGIN_THRESHOLD=2
CAPTCHA_LOGIN_WINDOW_SECONDS=900

# -----------------------------------------------------------------------------
# Contact Form (Optional)
# -----------------------------------------------------------------------------
# Email address to receive contact form submissions
# Future: Configure email service (SendGrid, Resend, Postmark)
SUPPORT_EMAIL_TO=your_support_email@example.com

# -----------------------------------------------------------------------------
# Stripe Billing (Phase 10B - Optional)
# -----------------------------------------------------------------------------
# Get from Stripe Dashboard → Developers → API Keys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
STRIPE_PRICE_BUSINESS=price_test_xxxxx
# Stripe Price IDs (create in Stripe Dashboard)
STRIPE_PRICE_PRO=price_test_xxxxx
# Stripe redirect URLs

# -----------------------------------------------------------------------------
# AWS S3 Backups (Optional)
# -----------------------------------------------------------------------------
# For periodic database backups
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=us-east-1
S3_BACKUP_BUCKET=engineo-db-backups-prod

# -----------------------------------------------------------------------------
# Development/Testing
# -----------------------------------------------------------------------------
# Test keys for Turnstile (always pass)
# CAPTCHA_SECRET_KEY=1x0000000000000000000000000000000AA
